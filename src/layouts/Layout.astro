---
// Supports weights 400-900
import "@fontsource-variable/maven-pro";
// Supports weights 200-900
import "@fontsource/roboto/500.css";
import { Image } from "astro:assets";
const { title, description } = Astro.props;
import { ViewTransitions } from "astro:transitions";
import Portfolio from "../components/Portfolio.astro";
---

<script>
  const CV = document.querySelector(".social-links--cv");
  const GH = document.querySelector(".social-links--github");
  const tag = document.querySelector(".social-links--tag");

  CV.addEventListener("mouseover", () => {
    // @ts-ignore
    tag.style.setProperty("--lt-x-pos", "52%");
  });
  CV.addEventListener("mouseout", () => {
    // @ts-ignore
    tag.style.setProperty("--lt-x-pos", "22%");
  });
  GH.addEventListener("mouseover", () => {
    // @ts-ignore
    tag.style.setProperty("--gt-x-pos", "106%");
  });
  GH.addEventListener("mouseout", () => {
    // @ts-ignore
    tag.style.setProperty("--gt-x-pos", "76%");
  });
</script>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      property="og:image"
      content="https://conorkelley.me/og-img-portfolio-min.jpg"
    />
    <meta property="og:type" content="website" />
    <title>Conor Kelley • {title}</title>
    <meta name="title" content=`Conor Kelley • ${title}` />
    <meta property="og:title" content=`Conor Kelley • ${title}` />
    <meta name="description" content={description} />
    <meta property="og:description" content={description} />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <ViewTransitions fallback="animate" />
    <slot name="metadata" />
  </head>
  <body>
    <section class="title">
      <h1 class="title-name">
        <span style="color: #4c7cc8;">&#123;</span>&nbsp;conor kelley&nbsp;<span
          style="color: #4c7cc8">&#125;</span
        >
      </h1>
    </section>
    <header>
      <ul class="social-links">
        <li class="social-links--cv">
          <a href="/resume.pdf" target="_blank"
            ><Image
              class="icon"
              src="/cv.svg"
              alt="CV"
              width="40"
              height="40"
            /></a
          >
        </li>
        <li class="social-links--tag">
          <span class="lt">&lt;</span><span class="gt">&gt;</span>
        </li>
        <li class="social-links--github">
          <a href="https://github.com/contreau" target="_blank"
            ><Image
              class="icon"
              src="/github.svg"
              alt="GitHub"
              width="40"
              height="40"
            /></a
          >
        </li>
      </ul>
    </header>
    <section class="content-grid">
      <main>
        <slot />
        <Portfolio />
      </main>
    </section>

    <style lang="scss" is:global>
      :root {
        --text: #f8f9fc;
        --background: #06070e;
        --primary: #a0b0f8;
        --secondary: #0f1324;
        --accent: #3a61d4;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      html {
        font-size: 112.5%; /*18px*/
        width: 100vw;
        overflow-x: hidden;
      }

      html,
      body {
        margin: 0;
        padding: 0;
      }

      img {
        max-width: 100%;
        display: block;
      }

      .icon {
        max-width: 40px;
        width: clamp(1.7rem, 10vw, 2.5rem);
      }

      body {
        position: relative;
        font-weight: 400;
        line-height: 1.75;
        font-family: "Maven Pro Variable", sans-serif;
        background-color: var(--background);
        background-attachment: fixed;
        color: var(--text);
        min-height: 100vh;
        max-width: 1500px;
        margin: 0 auto;
        padding: 0 3em;
      }

      // Redesign
      .me {
        max-width: 120px;
        height: auto;
        justify-self: end;
        align-self: center;
      }

      h2 {
        // opacity: 0;
        text-align: center;
        margin-bottom: 0;
        // animation: fadeIn 0.3s ease-in forwards;
      }

      .title {
        margin: 0 auto;
        margin-top: 0.2rem;
        max-width: 900px;
        border-radius: 15px;
        text-align: center;
        padding: 0em 0.5em;

        .title-name {
          font-size: clamp(1.5rem, 11vw, 6rem);
          font-weight: 500;
          margin: 0 auto;
        }

        p {
          margin: 0 auto;
          border-radius: 15px;
          padding: 0.2em 0.4em;
          margin-top: 0;
          font-family: "Maven Pro Variable", sans-serif;
          font-weight: 500;
          font-size: clamp(1.125rem, 3vw, 1.4rem);
        }
      }

      .bio-tagline {
        font-size: clamp(1rem, 11vw, 1.8rem);
        font-weight: 500;
        margin: 0 auto;
      }

      h3 {
        text-align: center;
        font-weight: 500;
      }

      @media (max-width: 500px) {
        .title p {
          padding: 0;
        }
      }

      body {
        background-color: #cecece;
        color: #000000;
        background-image: url("/plus.svg");
        background-repeat: space;
        background-size: 12px;
        font-family: "Roboto", sans-serif;
      }

      header {
        font-family: "Maven Pro Variable", sans-serif;
        padding: 0.5em 0;
        margin: 0 auto;
        margin-top: 1.2rem;
        max-width: 700px;

        h1 {
          margin: 0 0 0.5rem 0;
          font-size: clamp(1.8rem, 9vw, 2.9rem);
          text-align: center;
        }

        .me {
          max-width: clamp(40px, 11vw, 60px);
          height: auto;
        }

        .tagline {
          font-weight: 300;

          span {
            font-weight: 500;
          }
        }

        .social-links {
          font-weight: 500;
          font-size: clamp(1rem, 6vw, 1.4rem);
          list-style-type: none;
          padding-left: 0;
          display: flex;
          justify-content: center;
          gap: 1.1rem;
          margin: 0 auto;

          .social-links--tag {
            --tag-color: #292323;
            --lt-x-pos: 22%;
            --gt-x-pos: 76%;
            position: relative;
            min-width: 27px;
            // border: solid 1px #000000;

            .lt,
            .gt {
              position: absolute;
              display: inline-block;
              color: var(--tag-color);
              transition:
                right 0.3s,
                left 0.3s;
            }
            .lt {
              top: 48%;
              right: var(--lt-x-pos);
              transform: translate(-50%, -50%);
            }

            .gt {
              top: 48%;
              left: var(--gt-x-pos);
              transform: translate(-50%, -50%);
            }
          }

          a {
            color: #000000;
            text-decoration: none;
          }
        }
      }

      @media (max-width: 900px) {
        header {
          flex-direction: column;
          justify-content: center;

          ul {
            padding-left: 0;
          }
        }
        body {
          padding: 0 1em;
        }
      }

      .emblem {
        font-size: 1.728rem;
        font-weight: 500;
        text-align: center;
      }

      nav {
        margin-top: 0.75rem;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        place-items: center;
        padding-left: 2rem;
        padding-right: 2rem;
      }

      .menu-items {
        display: flex;
        gap: 0.5rem;
        padding-left: 0;
        font-family: "Source Code Pro Variable", sans-serif;
        list-style-type: none;
        font-size: 1.5rem;
        margin-top: 0;
        margin-bottom: 0;

        li {
          a {
            color: var(--text);
            text-decoration: none;
            padding: 0.1em 0.7em;
            transition: 0.3s all;
            border-radius: 10px;
            &:hover {
              font-weight: 500;
              text-decoration: none;
              border-radius: 10px;
              background-color: var(--accent);
              color: var(--text);
            }
          }
        }
        &:nth-of-type(1) {
          place-self: end;
        }
        &:nth-of-type(2) {
          place-self: start;
        }
      }

      li a.active {
        font-weight: 500;
        text-decoration: none;
        border-radius: 10px;
        background-color: var(--accent);
        color: var(--text);
      }

      main {
        h2 {
          margin-top: 0;
        }
      }

      a {
        color: var(--accent);
      }

      // Tooltip
      .tooltip {
        display: inline-block;
        position: relative;
        text-align: center;
        transition: 0.3s all;
        &:hover {
          transform: scale(1.2);
        }
      }

      .tooltip .top {
        min-width: fit-content;
        top: -20px;
        left: 50%;
        transform: translate(-50%, -100%);
        padding: 10px 20px;
        color: #ffffff;
        background-color: #06070e;
        font-weight: normal;
        font-size: 0.9rem;
        border-radius: 8px;
        position: absolute;
        z-index: 99999999;
        box-sizing: border-box;
        border: 1px solid var(--accent);
        box-shadow: 0 1px 8px rgba(0, 0, 0, 0.5);
        display: none;
      }

      .tooltip .wide-tooltip {
        min-width: 125px;
      }

      .tooltip:hover .top {
        display: block;
      }

      .tooltip .top i {
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -12px;
        width: 24px;
        height: 12px;
        overflow: hidden;
      }

      .tooltip .top i::after {
        content: "";
        position: absolute;
        width: 12px;
        height: 12px;
        left: 50%;
        transform: translate(-50%, -50%) rotate(45deg);
        background-color: #06070e;
        border: 1px solid var(--accent);
        box-shadow: 0 1px 8px rgba(0, 0, 0, 0.5);
      }

      // Font Configurations ** //

      p {
        font-size: 1.125rem;
        margin-bottom: 1rem;
      }

      h1,
      h2,
      h3,
      h4,
      h5 {
        font-family: "Maven Pro Variable", sans-serif;
        font-weight: 400;
        line-height: 1.3;
      }

      h1 {
        margin-top: 0;
        font-size: 2.288rem;
      }

      h2 {
        font-size: clamp(2.074rem, 12vw, 4rem);
        color: var(--primary);
        font-weight: 650;
        text-align: center;
      }

      h3 {
        font-size: 1.728rem;
        font-size: clamp(1.3rem, 6vw, 1.728rem);
      }

      h4 {
        margin-top: 0.5rem;
        font-size: 1.44rem;
        font-size: clamp(1.1rem, 4vw, 1.44rem);
      }

      h5 {
        font-size: 1.2rem;
      }

      small,
      .text_small {
        font-size: 0.833rem;
      }

      // ** //

      @media (max-width: 900px) {
        main h2 {
          margin-top: 1.5rem;
        }

        .invisible {
          display: none;
        }

        nav {
          display: block;
        }

        .menu-items {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 0;
          margin: 0;
          margin-top: 0.5rem;
          gap: 0.4rem;

          li a {
            font-size: 1.3rem;
            font-weight: 500;
            text-decoration: none;
            padding: 0.1em 0.7em;
            border-radius: 10px;
            color: var(--text);
          }

          li + li {
            margin-top: 0;
          }
        }

        .emblem-1,
        .emblem-2 {
          display: none;
        }

        section.content-grid {
          grid-template-columns: 1fr;
          justify-content: center;
        }

        header,
        nav {
          position: static;
        }
      }

      @keyframes fadeIn {
        100% {
          opacity: 1;
        }
      }
    </style>
  </body>
</html>
